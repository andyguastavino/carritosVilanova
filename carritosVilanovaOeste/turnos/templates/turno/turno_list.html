{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
  <h1 class="mb-4">Filtrar Turnos</h1>
  <form id="filter-form" method="get">
    <div class="row">
      <div class="col-md-6">
        <label for="year" class="form-label">AÃ±o</label>
        <select id="year" name="year" class="form-select">
          {% for y in years %}
          <option value="{{ y }}" {% if y == current_year %}selected{% endif %}>{{ y }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-6">
        <label for="month" class="form-label">Mes</label>
        <select id="month" name="month" class="form-select">
          {% for m in months %}
          <option value="{{ m.value }}" {% if m.value == current_month %}selected{% endif %}>{{ m.name }}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="mt-4">
      <button type="button" id="apply-filter" class="btn btn-primary">Aplicar Filtro</button>
    </div>
  </form>
</div>

<script>
  document.getElementById('apply-filter').addEventListener('click', function() {
    const year = document.getElementById('year').value;
    const month = document.getElementById('month').value;
    const url = `/turnos/${year}/${month}/`; // Construir la URL deseada
    window.location.href = url; // Redirigir a la URL
  });
</script>
{% endblock %}
